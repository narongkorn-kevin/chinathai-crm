<div class="bg-gray-50 p-6 space-y-6 rounded-lg shadow-sm w-full" [formGroup]="form">
  <!-- Customer Section -->
  <div class="bg-white p-4 rounded-lg shadow">
    <h3 class="text-lg font-medium text-gray-700 mb-4">ข้อมูลลูกค้า</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>เลือกลูกค้า</mat-label>
        <mat-select formControlName="customer">
          <mat-option *ngFor="let customer of ['ลูกค้า A', 'ลูกค้า B']" [value]="customer">{{customer}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <!-- Product Items Section -->
  <div class="bg-white border border-gray-200 rounded-lg p-4 shadow">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-lg font-medium text-gray-700">รายการฝากสั่ง</h2>
      <button mat-mini-fab color="primary" (click)="addItem()" class="shadow-md">
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <div *ngFor="let item of items.controls; let i = index" 
         class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4 p-3 bg-gray-50 rounded-lg">
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>เลขพัสดุจีน</mat-label>
        <input matInput formControlName="code">
      </mat-form-field>
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>รายการ</mat-label>
        <input matInput formControlName="name">
      </mat-form-field>
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>จำนวน</mat-label>
        <input matInput formControlName="quantity" type="number">
      </mat-form-field>
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>ประเภท</mat-label>
        <mat-select formControlName="type">
          <mat-option value="ทั่วไป">ทั่วไป</mat-option>
          <mat-option value="เฉพาะ">เฉพาะ</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full col-span-2">
        <mat-label>หมายเหตุ</mat-label>
        <input matInput formControlName="note">
      </mat-form-field>
      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>สถานะ</mat-label>
        <mat-select formControlName="status">
          <mat-option value="ไม่เสร็จ">ไม่เสร็จ</mat-option>
          <mat-option value="เสร็จแล้ว">เสร็จแล้ว</mat-option>
        </mat-select>
      </mat-form-field>
      <div class="flex items-center justify-end">
        <button mat-icon-button color="warn" (click)="removeItem(i)" class="hover:bg-red-50">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <!-- Transport Section -->
  <div class="bg-white p-4 rounded-lg shadow">
    <h3 class="text-lg font-medium text-gray-700 mb-4">การขนส่ง</h3>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block font-medium text-gray-700 mb-2">ระบบส่ง จีน - ไทย ใช้วิธีโดย</label>
        <mat-radio-group formControlName="transportType" class="flex flex-col gap-3">
          <mat-radio-button value="car" class="text-gray-700">ทางรถ</mat-radio-button>
          <mat-radio-button value="ship" class="text-gray-700">ทางเรือ</mat-radio-button>
        </mat-radio-group>
      </div>

      <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
        <mat-label>หมายเหตุเพิ่มเติม</mat-label>
        <textarea matInput formControlName="deliveryNote" rows="3"></textarea>
      </mat-form-field>
    </div>
  </div>

  <!-- Thailand System Section -->
  <div class="bg-white border border-gray-200 p-4 rounded-lg shadow">
    <h3 class="text-lg font-medium text-gray-700 mb-2">ระบบขนส่งในไทยใช้วิธีโดย</h3>
    <mat-radio-group [formGroup]="form.get('inThailand')" formControlName="option" class="flex flex-col gap-3 mb-4">
      <mat-radio-button value="wait" class="text-gray-700">รอให้พนักงานโทรแจ้ง</mat-radio-button>
      <mat-radio-button value="assigned" class="text-gray-700">จัดส่งตามขนส่งที่เลือก</mat-radio-button>
    </mat-radio-group>
    <div class="text-sm text-red-500 mb-4">* หากเลือกส่งตามขนส่ง ต้องเลือกผู้ให้บริการด้านล่าง</div>

    <div class="bg-gray-50 p-3 rounded-lg">
      <label class="block font-medium text-gray-700 mb-2">ผู้ให้บริการขนส่ง</label>
      <mat-radio-group formControlName="provider" class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <mat-radio-button *ngFor="let option of ['PL EXPRESS', 'KERRY EXPRESS', 'Flash', 'ไปรษณีย์ไทย']" 
                          [value]="option" class="text-gray-700">
          {{option}}
        </mat-radio-button>
      </mat-radio-group>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="flex justify-end gap-3 pt-4">
    <button mat-stroked-button color="basic" class="mr-2">ยกเลิก</button>
    <button mat-raised-button color="primary" class="shadow-md">ตกลง</button>
  </div>
</div>